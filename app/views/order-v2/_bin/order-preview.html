{% extends 'layout.html' %}

{% block pageTitle %}
  Buying Catalogue
{% endblock %}

{% block header %}
<style>
.bc-detail-row {
  padding: 0;
}
.bc-recipients {
  background-color: white;
}
.bc-recipients:hover {
  background-color: white;
}
.bc-recipients td:first-child,
.bc-assoc-services td:first-child,
.bc-assoc-services th:first-child {
  padding-left: 24px;
}
.bc-recipients td:last-child,
.bc-assoc-services td:last-child,
.bc-assoc-services th:last-child {
  padding-right: 24px;
  text-align: right;
}
.bc-assoc-services td,
.bc-assoc-services th  {
  font-size: 1em !important;
}
.bc-summary-totals {

}
.bc-summary-totals .nhsuk-summary-list__row {
  text-align: right;
}
.bc-summary-totals .nhsuk-summary-list__key,
.bc-summary-totals .nhsuk-summary-list__value,
.bc-summary-totals .nhsuk-summary-list__actions {
  display: inline-block;
  width: auto;
}
.bc-recipients {
  position: relative;
}
.bc-recipients td:first-child:before {
  background: url("data:image/svg+xml,%3Csvg class='nhsuk-icon nhsuk-icon__minus' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' aria-hidden='true'%3E%3Ccircle cx='12' cy='12' r='10' fill='002f5c'%3E%3C/circle%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M8 12h8'%3E%3C/path%3E%3C/svg%3E%0A") left -2px center no-repeat;
  content: '';
  display: inline-block;
  height: 32px;
  left: 0;
  position: absolute;
  top: calc(50% - 16px);
  width: 32px;
  margin-left: 1em;
}
.bc-recipients td:first-child {
  padding-left: 3.5em;
}
.bc-recipients.open td:first-child:before {
  /* #ffeb3b */
  background: url("data:image/svg+xml,%3Csvg class='nhsuk-icon nhsuk-icon__plus' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' aria-hidden='true'%3E%3Ccircle cx='12' cy='12' r='10' fill='%23005eb8'%3E%3C/circle%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M12 8v8M8 12h8'%3E%3C/path%3E%3C/svg%3E%0A") left -2px center no-repeat;
}
</style>

<script>
  $(document).ready(function(){
    $(".bc-recipients").click(function(){
      $(this).toggleClass('open').next().toggle();
    });
  });

  function collapse() {
    $(".bc-detail-row").parent().hide();
    $(".bc-recipients").addClass('open');
  }
  function expand() {
    $(".bc-detail-row").parent().show();
    $(".bc-recipients").removeClass('open');
  }
</script>
{% include "includes/header-proxy.html" %}
{% endblock%}

<!-- Breadcrumb goes inside the beforeContent block -->
{% block beforeContent %}

{% endblock %}

<!-- Your page content goes inside the content block -->
{% block content %}
{% from 'back-link/macro.njk' import backLink %}

{{ backLink({
  "href": "order-4-summary",
  "text": "Go back"
}) }}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">
      <h1>Order summary for C010029-01</h1>
      <p class="nhsuk-lede-text">This is what's been added to your order so far. You must complete all mandatory steps before you can complete your order.</p>

      <h2>Get order summary</h2>
      <p>Using this button will give you the option to print a copy or create a PDF version of your order summary so you can check it's correct.</p>

        {{ button({
          "text": "Print or save as PDF",
          "classes": "nhsuk-button--secondary"
        }) }}
                <hr />


      </div>
    </div>


    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-full">

    <h2>Catalogue Solutions and Additional Services</h2>
    <p>The following items carry a recurring annual cost for the duration of this Call-off Agreement. They're the Catalogue Solutions, Additional Services and Associated Services in this order that you'll be charged for at a monthly rate.</p>

    <p><a href="javascript: expand();">Expand all</a>&nbsp;&nbsp;&nbsp;<a href="javascript: collapse();">Collapse all</a></p>
    <table class="nhsuk-table" style="margin-bottom: 0;">
      <tbody class="nhsuk-table__body">
        <tr role="row" class="nhsuk-table__row bc-recipients">
          <td class="nhsuk-table__cell"><b>Recipient name (ODS code): </b><br/>ASSURA ER LLP HULL DERMATOLOGY (Y03508)<br/><a href="">Edit recipient</a></td>
          <td class="nhsuk-table__cell"><b>Service Instance ID: </b><br/>SI1-Y03508</td>
          <td class="nhsuk-table__cell"><b>Total: </b><br/>£43,567.43</td>
        </tr>
        <tr role="row">
          <td colspan="4" class="bc-detail-row">
            {% include "order-v2/order-5-4-1-table-details.html" %}
          </td>
        </tr>
        <tr role="row" class="nhsuk-table__row bc-recipients">
          <td class="nhsuk-table__cell"><b>Recipient name (ODS code): </b><br/>BEVAN LIMITED (Y07021)<br/><a href="">Edit recipient</a></td>
          <td class="nhsuk-table__cell"><b>Service Instance ID: </b><br/>SI1-Y07021</td>
          <td class="nhsuk-table__cell"><b>Recipient total: </b><br/>£11,579.12</td>
        </tr>
        <tr role="row">
          <td colspan="4" class="bc-detail-row">
            {% include "order-v2/order-5-4-1-table-details.html" %}
          </td>
        </tr>
        <tr role="row" class="nhsuk-table__row bc-recipients">
          <td class="nhsuk-table__cell"><b>Recipient name (ODS code): </b><br/>BURNBRAE MEDICAL PRACTICE (B81085)<br/><a href="">Edit recipient</a></td>
          <td class="nhsuk-table__cell"><b>Service Instance ID: </b><br/>SI1-B81085</td>
          <td class="nhsuk-table__cell"><b>Recipient total: </b><br/>£37,297.20</td>
        </tr>
        <tr role="row">
          <td colspan="4" class="bc-detail-row">
            {% include "order-v2/order-5-4-1-table-details.html" %}
          </td>
        </tr>
        <tr role="row" class="nhsuk-table__row bc-recipients">
          <td class="nhsuk-table__cell"><b>Recipient name (ODS code): </b><br/>YPS SSM SERVICE (Y05235)<br/><a href="">Edit recipient</a></td>
          <td class="nhsuk-table__cell"><b>Service Instance ID: </b><br/>SI1-Y00427</td>
          <td class="nhsuk-table__cell"><b>Recipient total: </b><br/>£9,423.87</td>
        </tr>
        <tr role="row">
          <td colspan="4" class="bc-detail-row">
            {% include "order-v2/order-5-4-1-table-details.html" %}
          </td>
        </tr>
      </tbody>
    </table>
    <dl class="nhsuk-summary-list bc-summary-totals">
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Total cost for one year (indicative)
          </dt>
          <dd class="nhsuk-summary-list__value">
            £37,456.50
          </dd>
        </div>
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Total monthly cost (indicative)
          </dt>
          <dd class="nhsuk-summary-list__value">
            £9,510.25
          </dd>
        </div>
    </dl>



    <h2>Associated Services</h2>
    <p>The following items carry a one-off cost for the duration of this Call-off Agreement. They're the Associated Services in this order you can use as and when required</p>

    <table role="table" class="nhsuk-table-responsive bc-assoc-services">
        <thead role="rowgroup" class="nhsuk-table__head">
        <tr role="row">
            <th role="columnheader" class="" scope="col">
              Item ID
            </th>
            <th role="columnheader" class="" scope="col">
              Recipient name (ODS code)
            </th>
            <th role="columnheader" class="" scope="col">
              Item name
            </th>
            <th role="columnheader" class="" scope="col">
              Price unit of order
            </th>
            <th role="columnheader" class="" scope="col">
              Quantity
            </th>
            <th role="columnheader" class="" scope="col">
              Item cost
            </th>
        </tr>
        </thead>
        <tbody class="nhsuk-table__body">
          <tr role="row" class="nhsuk-table__row">
                <td role="cell" class="nhsuk-table__cell" style="white-space:nowrap;">
                  <span class="nhsuk-table-responsive__heading">Item ID </span>C010029-01-03F-78<br><a href="#">Edit service</a>
                </td>
                <td role="cell" class="nhsuk-table__cell">
                  <span class="nhsuk-table-responsive__heading">Recipient name (ODS code) </span>NHS Hull CCG (03F)
                </td>
                <td role="cell" class="nhsuk-table__cell">
                  <span class="nhsuk-table-responsive__heading">Item name </span>Training Day at Practice
                </td>
                <td role="cell" class="nhsuk-table__cell">
                  <span class="nhsuk-table-responsive__heading">Price unit of order </span>£650.00 per day
                </td>
                <td role="cell" class="nhsuk-table__cell">
                  <span class="nhsuk-table-responsive__heading">Quantity </span>50
                </td>
                <td role="cell" class="nhsuk-table__cell">
                  <span class="nhsuk-table-responsive__heading">Item cost </span>£32,500.00
                </td>
          </tr>
        </tbody>
      </table>

      <dl class="nhsuk-summary-list bc-summary-totals">
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Total one-off cost (indicative)
          </dt>
          <dd class="nhsuk-summary-list__value">
            £32,500.00
          </dd>
        </div>
      </dl>



    <dl class="nhsuk-summary-list bc-summary-totals">
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Total cost of contract (indicative)
          </dt>
          <dd class="nhsuk-summary-list__value">
            £132,522.50
          </dd>
        </div>
        <p class="nhsuk-body-s" style="width:52%; float: right; margin-top: 1em;">This is the total estimated cost for the entire duration of the Call-off Agreement, which is usually 3 years. The figure is made up of the one-off costs and the estimated yearly cost multiplied by 3.</p>
    </dl>










    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-full">

        <h2>Order description</h2>
        <p>sdzdasdadsasdas</p>

        {% from "summary-list/macro.njk" import summaryList %}

{{ summaryList({
  rows: [
    {
      key: {
        text: "Date order summary created"
      },
      value: {
        text: "9 March 2021"
      }
    },
    {
      key: {
        text: "Call-off Ordering Party"
      },
      value: {
        html: '<p>L Evans</p><p>NHS Hull CCG</p><p>03F</p><p>WILBERFORCE COURT</p><p>ALFRED GELDER STREET</p><p>HULL</p><p>HU1 1UY</p><p>ENGLAND</p>'
      }
    },
    {
      key: {
        text: "Supplier"
      },
      value: {
        html: '<p>L Ec</p><p>EMIS Health</p><p>Rawdon House</p><p>Green Lane</p><p>West Yorkshire</p><p>LS19 7BY</p><p>England</p>'
      }
    },
    {
      key: {
        text: "Commencement date of the Call-off Agreement"
      },
      value: {
        html: '5 March 2021'
      }
    }
  ]
}) }}

        <h2 class="nhsuk-u-margin-bottom-3">Order items (one-off cost)</h2>
        <p class="nhsuk-u-font-size-19 nhsuk-u-font-weight-normal">The following items carry a one-off cost for the duration of this Call-off Agreement. They're the Associated Services in this order you can use as and when required</p>

        {% from 'tables/macro.njk' import table %}

{{ table({
  responsive: true,
  panel: false,
  caption: "",
  firstCellIsHeader: false,
  head: [
    {
      text: "Recipient name (ODS code)"
    },
    {
      text: "Item ID"
    },
    {
      text: "Item name"
    },
    {
      text: "Price unit of order (£)"
    },
    {
      text: "Quantity"
    },
    {
      text: "Item cost (£)"
    }
  ],
  rows: [
    [
      {
        header: "Recipient name (ODS code)",
        text: "NHS Hull CCG (03F)"
      },
      {
        header: "Item ID",
        text: "C010029-01-03F-78"
      },
      {
        header: "Item name",
        text: "Training Day at Practice"
      },
      {
        header: "Price unit of order (£)",
        text: "650.00 per day"
      },
      {
        header: "Quantity",
        text: "50"
      },
      {
        header: "Item cost (£)",
        text: "32,500.00"
      }
    ]
  ]
}) }}

{{ summaryList({
  rows: [
    {
      key: {
        text: "Total one-off cost (indicative)"
      },
      value: {
        text: "32,500.00"
      }
    }
  ]
}) }}

<h2 class="nhsuk-u-margin-bottom-3">Order items (recurring cost)</h2>
<p class="nhsuk-u-font-size-19 nhsuk-u-font-weight-normal">The following items carry a recurring annual cost for the duration of this Call-off Agreement. They're the Catalogue Solutions, Additional Services and Associated Services in this order that you'll be charged for at a monthly rate.</p>

{{ table({
  responsive: true,
  panel: false,
  caption: "",
  firstCellIsHeader: false,
  head: [
    {
      text: "Recipient name (ODS code)"
    },
    {
      text: "Item ID/name"
    },
    {
      text: "Service Instance ID"
    },
    {
      text: "Price unit of order (£)"
    },
    {
      text: "Quantity/period"
    },
    {
      text: "Planned delivery date"
    },
    {
      text: "Item cost per year (£)"
    }
  ],
  rows: [
    [
      {
        header: "Recipient name (ODS code)",
        text: "ASSURA ER LLP HULL DERMATOLOGY (Y03508)"
      },
      {
        header: "Item ID",
        html: "C010029-01-Y03508-77<br/>Online and Video Consult"
      },
      {
        header: "Service Instance ID",
        text: "SI1-Y03508"
      },
      {
        header: "Price unit of order (£)",
        text: "0.15 per patient per year"
      },
      {
        header: "Quantity/period",
        text: "50 per month"
      },
      {
        header: "Planned delivery date",
        text: "8 March 2021"
      },
      {
        header: "Item cost per year (£)",
        text: "7.50"
      }
    ]
  ]
}) }}

{{ summaryList({
  rows: [
    {
      key: {
        text: "Total cost for one year (indicative)"
      },
      value: {
        text: "7.50"
      }
    },
    {
      key: {
        text: "Total monthly cost (indicative)"
      },
      value: {
        text: "0.63"
      }
    }
  ]
}) }}

{{ summaryList({
  rows: [
    {
      key: {
        html: "Total cost of contract (indicative)"
      },
      value: {
        html: '32,522.50<br/><p class="nhsuk-body-s">This is the total estimated cost for the entire duration of the Call-off Agreement, which is usually 3 years. The figure is made up of the one-off costs and the estimated yearly cost multiplied by 3.</p>'
      }
    }
  ]
}) }}
          </div>
        </div>

{% endblock %}

{% block footer %}
{% include "includes/footer.html" %}
{% endblock %}
